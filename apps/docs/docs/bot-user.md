# Пользователи TG бота

[[toc]]

## Где используется

Пользователя бота используется в разделе [Telegram Bot](/docs/telegram.html).

Записи в данной таблице связывают подписчиков бота с [учениками в системе](/docs/student.html),
а так же предотвращают использование бота пользователями, которые не были добавлены в данных раздел.

## Переход в раздел

Для перехода в раздел необходимо меню кликнуть на пункт меню "Пользователи бота".

## Содержимое страницы

- Страница содержит заголовок "Пользователи бота"
- Страница содержит кнопку "Добавить"
- Страница содержит иконку для сохранения пользователей в формате SQL

### Содержимое десктопной таблицы

Таблица содержит колонки:
- "TG user name"
- "Роль"
- "Ученик"

Каждая строка таблицы содержит иконку контекстного меню.

При клике на иконку контекстного меню открывается выпадающее окно.

Выпадающее контекстное меню содержит кнопку "Редактировать".

При клике на кнопку "Редактировать" открывается страница с формой редактирования пользователя.

Выпадающее контекстное меню содержит кнопку "Удалить".

### Содержимое мобильной таблицы

Таблица содержит колонку "ФИО".

У не раскрытой строки таблица содержит иконку для раскрытия строки.

У раскрытой строки таблица содержит иконку для скрытия строки.
 
Раскрытая строка содержит пункты "Роль", "TG user name".

### Контекстное меню

Контекстное меню содержит кнопки:
- Редактировать - открывает форму редактирования
- Удалить - открывает модальное окно для подтверждения удаления выбранного пользователя бота

## Форма создания и редактирования пользователя

Форма создания и редактирования состоит из полей:

| Название поля | Тип поля | Обязательное поле | Доп описание                                                                                |
|---------------|----------|-------------------|---------------------------------------------------------------------------------------------|
| TG user name  | Текст    | Да                | Идентифицирует пользователя телеграмма по его имени пользователя                            |
| Роль          | Текст    | Да                | Идентифицирует роль пользователя телеграмма                                                 |
| Ученик        | Список   | Да                | Содержит список учеников. Устанавливает связь между пользователем бота и выбранным учеником |
| Статус        | Текст    | Да                | Активирует или деактивирует пользователя                                                    |

При клике на кнопку "Добавить" или "Редактировать" в контекстном меню открывается страница с формой пользователя.

Форма имеет кнопку "Назад".

При клике на кнопку "Назад" происходит возврат на страницу с пользователями бота.

## Форма редактирования пользователя

Форма имеет заголовок "Редактирование пользователя".

Форма имеет кнопку "Сохранить".

Если форма заполнена не корректно, то кнопка "Сохранить" не активна.

Если форма заполнена корректно, то кнопка "Сохранить" активна.

При клике на кнопку "Сохранить" происходит сохранение изменений пользователя и открывается страница с пользователями бота.

## Форма создания пользователя

Форма имеет заголовок "Новый пользователь"

Форма имеет кнопку "Добавить".

Если форма заполнена не корректно, то кнопка "Добавить" не активна.

Если форма заполнена корректно, то кнопка "Добавить" активна.

При клике на кнопку "Добавить" происходит создание нового пользователя и открывается страница с пользователями бота.

## Форма удаления модального окна

В контекстном меню при клике на кнопку "Удалить" открывается модальное окно подтверждения удаления пользователя.

Модальное окно содержит:

- Заголовок "Предупреждение об удалении".
- Текст "Удаление пользователя приведет к его отключению от бота! Вы уверены, что хотите продолжить?".
- Иконку закрытия модального окна.

При клике на кнопку иконку закрытия происходит закрытие модального окна без удаления пользователя.

Модальное окно подтверждения удаления пользователя содержит кнопку "Отменить".

При клике на кнопку "Отменить" происходит закрытие модального окна без удаления пользователя.

Модальное окно подтверждения удаления пользователя содержит кнопку "Удалить".

При клике на кнопку "Удалить" происходит удаление пользователя и модальное окно закрывается.

