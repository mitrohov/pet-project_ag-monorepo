# Тест-кейсы для раздела "Оплаты"

[[toc]]

## Переход в раздел

- В меню должен отображаться раздел "Оплаты"
- При клике на пункт меню "Оплаты" происходит переход на страницу с уровнями языка
- URL страницы содержит "/payments"

## Содержимое страницы

- На странице отображается заголовок "Оплаты"
- На страницe отображается кнопка "Добавить"
- На странице отображается иконка экспорта всех оплаты в SQL
- На странице отображается таблица с оплатами

## Кнопка "Добавить

- При клике на кнопку "Добавить" открывается не заполненная форма создания и редактирования оплаты

## Форма создания и редактирования оплаты

- В случае создания новой оплаты форма должна быть пустой
- В случае редактирования оплаты форма должна быть заполнена данными редактируемой оплаты
- Форма создания и редактирования оплаты должна содержать поле "Название оплаты"
- Форма создания и редактирования оплаты должна содержать поле "Ученик"
- Форма создания и редактирования оплаты должна содержать поле "Сумма"
- Форма создания и редактирования оплаты должна содержать поле "Количество уроков"
- Форма создания и редактирования оплаты должна содержать поле "Количество уроков"
- Форма создания и редактирования оплаты должна содержать поле "Дата оплаты"
- При создании новой платформ форма содержит кнопку "Создать"
- При клике на кнопку "Создать" происходит открытие таблицы "Оплаты", которая содержит созданную оплату
- При клике на кнопку "Сохранить" происходит открытие таблицы "Оплаты", которая содержит обновленную оплату
- При редактировании оплаты форма содержит кнопку "Сохранить"

## Поле "Название оплаты"

- Поле "Название оплаты" является текстовым
- Поле "Название оплаты" содержит валидацию на пустое значение
- Поле "Название оплаты" имеет валидацию на максимальное количество символов (50)

## Поле "Ученик"

- Поле "Ученик" является списком с учениками
- Поле "Ученик" содержит валидацию на пустое значение

## Поле "Сумма"

- Поле "Сумма" является числовым
- Поле "Сумма" содержит валидацию на пустое значение
- Поле "Сумма" имеет валидацию на максимальное указанное число (50000)

## Поле "Количество уроков"

- Поле "Количество уроков" является текстовым
- Поле "Количество уроков" содержит валидацию на пустое значение
- Поле "Количество уроков" имеет валидацию на максимальное указанное число (50)

## Поле "Дата оплаты"

- Поле "Дата оплаты" является выбором даты
- Поле "Дата оплаты" содержит валидацию на пустое значение
- Поле "Дата оплаты" автоматически заполнено текущей датой

## Таблица оплат

- Таблица платформ содержит колонки: "Ученик", "Название оплаты", "Дата оплаты", "Сумма", "Оплачено уроков", "Осталось уроков", "Привязанные уроки"
- Каждая строка таблицы содержит иконку контекстного меню
- При клике на иконку контекстного меню открывается выпадающее меню с пунктами: "Редактировать", "Удалить"
- При клике на пункт "Редактировать" открывается форма редактирования и создания оплаты
- При клике на пункт "Удалить" открывается модальное окно с подтверждением удаления оплаты

## Содержимое мобильной таблицы

- Таблица содержит колонку "Дата оплаты"
- У не раскрытой строки таблица содержит иконку для раскрытия строки
- У раскрытой строки таблица содержит иконку для скрытия строки
- Раскрытая строка содержит пункты "Роль", "Название оплаты", "Ученик", "Сумма", "Оплачено уроков", "Осталось уроков", "Привязанные уроки"

## Модальное окно "Предупреждение об удалении"
- Модальное окно содержит текст "Вы уверены, что хотите удалить оплату? Удаление оплаты приведет к изменению всех привязанных к оплате событий к статусу 'Без оплаты'!"
- Модальное окно содержит кнопку "Удалить" и иконку закрытия модального окна
- При клике на кнопку "Удалить" платформа удаляется и таблица платформ обновляется
- При клике на иконку закрытия происходит закрытие модального окна без удаления оплаты